{"version":3,"sources":["images/logout.svg","images/logout-white.svg","contexts/CurrentUserContext.js","components/Header/Header.js","images/me.jpg","components/About/About.js","components/Preloader/Preloader.js","images/not-found.svg","components/NoResults/NoResults.js","components/SearchForm/SearchForm.js","components/Search/Search.js","images/news_1.png","utils/constants.js","utils/MainApi.js","components/NewsCard/NewsCard.js","components/SearchResult/SearchResult.js","components/Main/Main.js","images/git.svg","images/vk-icon.svg","components/Footer/Footer.js","components/SavedNewsHeader/SavedNewsHeader.js","components/SavedNews/SavedNews.js","components/PopupWithForm/PopupWithForm.js","components/RegisterPopup/RegisterPopup.js","components/LoginPopup/LoginPopup.js","components/BurgerPopup/BurgerPopup.js","components/InfoTooltip/InfoTooltip.js","components/ProtectedRoute/ProtectedRoute.js","utils/NewsApi.js","components/App/App.js","index.js"],"names":["UserContext","React","createContext","Header","onRegister","onBurgerMenu","loggedIn","logOut","currentUserName","useContext","name","path","className","to","type","onClick","aria-label","charAt","toUpperCase","slice","src","logoutWhite","alt","logout","About","avatar","Preloader","NoResults","notFound","SearchForm","setKeyWord","onSubmitSearchForm","keyWord","localStorage","getItem","onSubmit","placeholder","value","required","onChange","e","target","setItem","Search","handleResponse","result","ok","json","Error","status","baseUrl","mainApi","email","password","fetch","method","headers","body","JSON","stringify","then","res","catch","err","console","log","response","data","token","authorization","keyword","title","text","date","source","link","image","owner","idCard","moment","require","validator","NewsCard","article","myArticle","cardImage","cardDate","cardTitle","cardDescription","cardTag","onClickArticle","savedArticles","setSavedArticles","useState","activeFlag","setActiveFlag","useEffect","length","undefined","find","i","keyWordForSave","modifyArticle","id","savedArticle","description","_id","deleteArticle","getInitialArticles","saveArticle","isURL","disabled","onError","href","rel","format","replace","SearchResult","articles","setArticles","esleButtonShow","setEsleButtonShow","checkArrayLength","itemToShow","articlesArr","getScrollOffsets","w","window","pageXOffset","x","y","pageYOffset","d","document","compatMode","documentElement","scrollLeft","scrollTop","showSection","map","urlToImage","placeholderImage","publishedAt","author","url","scrollTo","top","behavior","Main","isLoading","showNoResults","Footer","git","vk","SavedNewsHeader","declOfNum","n","titles","keywords","setKeyWords","words","uniqueWords","arr","str","includes","splice","deleteElemsWith","filter","item","pos","indexOf","SavedNews","PopupWithForm","isOpen","onClose","children","loginOrRegister","RegisterPopup","onToggle","setIsToolipPopupOpen","setRegisterMessage","emailDirty","emailError","passwordDirty","passwordError","nameDirty","nameError","emailHandler","passwordHandler","nameHandler","blurHandler","registerFormValid","action","evt","preventDefault","register","success","noValidate","htmlFor","autoComplete","onBlur","minLength","maxLength","LoginPopup","handleLogin","loginFormValid","wrongPassword","setWrongPassword","authorize","message","BurgerPopup","onCloseBurger","InfoTooltip","resultMessage","validation","ProtectedRoute","Component","component","handleLoginPopup","props","isLoggedIn","dateNow","Date","now","dateFrom","newsApi","Accept","App","setLoggedIn","setIsLoading","history","useHistory","currentUser","setCurrentUser","tokenCheck","jwt","getContent","removeItem","parse","setShowNoResults","getTopArticles","totalResults","setEmail","setPassword","setName","setEmailDirty","setEmailError","setPasswordDirty","setPasswordError","setNameDirty","setNameError","SetRegisterFormValid","SetLoginFormValid","resetError","isEmail","isRegisterPopupOpen","setIsRegisterPopupOpen","isLoginPopupOpen","setIsLoginPopupOpen","isBurgerPopupOpen","setIsBurgerPopupOpen","closeAllPopups","handleBurgerPopup","addEventListener","key","registerMessage","isToolipPopupOpen","handleToolipPopup","Provider","getArticles","from","isAlpha","onEscape","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.72c2304c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logout.4fb874ec.svg\";","export default __webpack_public_path__ + \"static/media/logout-white.1f2ed6dd.svg\";","import React from 'react';\n\nexport const UserContext = React.createContext();\n","import './Header.css';\n\nimport React from 'react';\nimport { Route, Switch, Link } from 'react-router-dom';\nimport logout from '../../images/logout.svg';\nimport logoutWhite from '../../images/logout-white.svg';\nimport { UserContext } from '../../contexts/CurrentUserContext';\n\nfunction Header({\n  onRegister, onBurgerMenu, loggedIn, logOut,\n}) {\n  const currentUser = React.useContext(UserContext);\n  const currentUserName = currentUser.name || 'Вы вышли';\n\n  return (\n    <Switch>\n      <Route path=\"/main\">\n        <header className=\"header\">\n          <Link className=\"header__logo\" to=\"/main\">\n            <h1 className=\"header__title\">NewsExplorer</h1>\n          </Link>\n          <div className=\"header__nav-bar\">\n            <button type=\"button\" className=\"header__menu\" onClick={onBurgerMenu} aria-label=\"Открыть меню\" />\n            <Link className=\"header__link header__link_current-page\" to=\"/main\">\n              <div className=\"header__underline\" />\n              Главная\n            </Link>\n            {loggedIn ? <Link className=\"header__link\" to=\"/saved-news\">Сохраненные статьи</Link> : ''}\n            {loggedIn\n              ? (\n                <button type=\"button\" className=\"header__logged-out-button_white\" onClick={logOut}>\n                  {currentUserName.charAt(0).toUpperCase() + currentUserName.slice(1)}\n                  <img className=\"header__logged-out-image\" src={logoutWhite} alt=\"здесь должна быть иконка выхода из аккаунта\" />\n                </button>\n              )\n              : <button type=\"button\" className=\"header__logged-in-button\" onClick={onRegister}>Авторизоваться</button>}\n          </div>\n        </header>\n      </Route>\n      <Route path=\"/saved-news\">\n        <header className=\"header-white\">\n          <Link className=\"header__logo\" to=\"/main\">\n            <h1 className=\"header__title\">NewsExplorer</h1>\n          </Link>\n          <div className=\"header__nav-bar\">\n            <button type=\"button\" className=\"header__menu_white\" onClick={onBurgerMenu} aria-label=\"Открыть меню\" />\n            <Link className=\"header__link\" to=\"/main\">Главная</Link>\n            <Link className=\"header__link header__link_current-page\" to=\"/saved-news\">\n              <div className=\"header-white__underline\" />\n              Сохраненные статьи\n            </Link>\n            <button type=\"button\" className=\"header__logged-out-button\" onClick={logOut}>\n              {currentUserName.charAt(0).toUpperCase() + currentUserName.slice(1)}\n              <img className=\"header__logged-out-image\" src={logout} alt=\"здесь должна быть иконка выхода из аккаунта\" />\n            </button>\n          </div>\n        </header>\n      </Route>\n    </Switch>\n  );\n}\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/me.8028c39e.jpg\";","import './About.css';\nimport React from 'react';\nimport avatar from '../../images/me.jpg';\n\nfunction About() {\n  return (\n    <section className=\"about-author\">\n      <div className=\"about-author__avatar-wrapper\">\n        <img className=\"about-author__avatar\" src={avatar} alt=\"здесь должна быть аватарка создателя сайта :)\" />\n      </div>\n      <div className=\"about-author__description-wrapper\">\n        <h2 className=\"about-author__description-header\">Об авторе</h2>\n        <p className=\"about-author__description\">\n          Привет! Меня зовут Андрей и я разработчик этого сайта.\n          Он является дипломным проектом курса &quot;Веб-разработчик&quot; в Яндекс Практикуме.\n          Клиенсткая\n          часть проекта написана на React.JS, а серверная&nbsp;на Node.JS.\n          Используется база данных MongoDB, а так же различные дополнительные библиотеки.\n        </p>\n        <p className=\"about-author__description\">\n          Я с нуля освоил огромную базу современных технологий.\n          Началось все с обычной верстки сайтов, это получалось почти сразу.\n          Дальше появился JavaScript &#8211; мой первый язык программирования.\n          Сначала не получалось, было очень сложно.\n          Но упорный труд в течение полугода дал результат.\n          Конечно, профессионалом за такое время не стать,\n          но освоить язык на среднем уровне &#8211; вполне возможно.\n          И я считаю, что с этой задачей я справился.\n        </p>\n        <p className=\"about-author__description\">\n          Сейчас я могу создать с нуля сайт средней сложности,\n          написать к нему API,\n          и полноценно развернуть проект на удаленном сервере.\n          Так же за этот период я приобрел очень ценный навык для работы в этой сфере\n          - научился самостоятельно разбираться в документации.\n          Стало получаться планировать свое время и декомпозировать глобальные,\n          сложные задачи,\n          а это очень важный навык для работы в коллективе.\n          Теперь я умею искать нужную информацию и задавать правильные вопросы,\n          а так же профессионально воспринимать критику.\n        </p>\n      </div>\n    </section>\n  );\n}\n\nexport default About;\n","import './Preloader.css';\n\nimport React from 'react';\n\nfunction Preloader() {\n  return (\n    <section className=\"search-in-process\">\n      <i className=\"search-in-process__preloader\" />\n      <p className=\"search-in-process__label\">Идет поиск новостей...</p>\n    </section>\n  );\n}\n\nexport default Preloader;\n","export default __webpack_public_path__ + \"static/media/not-found.39241ac1.svg\";","import './NoResults.css';\n\nimport React from 'react';\nimport notFound from '../../images/not-found.svg';\n\nfunction NoResults() {\n  return (\n    <section className=\"search-without-results\">\n      <img className=\"search-without-results__image\" src={notFound} alt=\"здесь должна быть картинка `не найдено`\" />\n      <h2 className=\"search-without-results__title\">Ничего не найдено</h2>\n      <p className=\"search-without-results__label\">К сожалению по вашему запросу ничего не найдено.</p>\n    </section>\n  );\n}\n\nexport default NoResults;\n","import './SearchForm.css';\n\nimport React from 'react';\n\nfunction SearchForm({ setKeyWord, onSubmitSearchForm }) {\n  const keyWord = localStorage.getItem('Key word'); // Ключевое слово в локальном хранилище\n\n  function handleChangeKeyWord(e) {\n    // Меняем запись ключевого слова поиска при изменении значения в инпуте\n    setKeyWord(e.target.value);\n    localStorage.setItem('Key word', e.target.value);\n  }\n\n  return (\n    <form className=\"search__form\" onSubmit={onSubmitSearchForm}>\n      <input className=\"search__form-input\" placeholder=\"Введите тему новости\" value={keyWord || ''} required onChange={handleChangeKeyWord} />\n      <button type=\"submit\" className=\"search__form-button\">Искать</button>\n    </form>\n  );\n}\n\nexport default SearchForm;\n","import './Search.css';\n\nimport React from 'react';\nimport SearchForm from '../SearchForm/SearchForm';\n\nfunction Search({ setKeyWord, onSubmitSearchForm }) {\n  return (\n    <section className=\"search\">\n      <div className=\"search__wrapper\">\n        <h2 className=\"search__title\">Что творится в мире?</h2>\n        <p className=\"search__description\">\n          Находите самые свежие статьи на любую тему и сохраняйте в своём личном кабинете.\n          А самые интересные мы отобразим сразу.\n        </p>\n        <SearchForm setKeyWord={setKeyWord} onSubmitSearchForm={onSubmitSearchForm} />\n      </div>\n    </section>\n  );\n}\n\nexport default Search;\n","export default __webpack_public_path__ + \"static/media/news_1.d2885c3c.png\";","const handleResponse = (result) => { // Обработка ответа от сервера\n  if (result.ok) {\n    return result.json();\n  }\n  return new Error(`Ошибка: ${result.status}`);\n};\n\nconst baseUrl = 'https://single.students.nomoreparties.co'; // Адрес бекенда\n\nexport { handleResponse, baseUrl };\n","import { handleResponse, baseUrl } from './constants';\n\nclass MainApi {\n  register(email, password, name) { // Запрос на регистрацию\n    return fetch(`${baseUrl}/signup`, {\n      method: 'POST',\n      // mode: 'no-cors',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ email, password, name }),\n    })\n      .then((res) => res.json())\n      .then((res) => res)\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  authorize(email, password) { // Запрос на авторизацию\n    return fetch(`${baseUrl}/signin`, {\n      method: 'POST',\n      // mode: 'no-cors',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ email, password }),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        if (data.token) {\n          localStorage.setItem('jwt', data.token);\n        }\n        return data;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  getContent(token) { // Запрос на проверку токена\n    return fetch(`${baseUrl}/users/me`, {\n      method: 'GET',\n      // mode: 'no-cors',\n      headers: {\n        'Content-Type': 'application/json',\n        authorization: `Bearer ${token}`,\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => data)\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  saveArticle(keyword, title, text, date, source, link, image, owner) {\n    // Запрос на сохранение статьи\n    return fetch(`${baseUrl}/articles`, {\n      method: 'POST',\n      // mode: 'no-cors',\n      headers: {\n        'Content-Type': 'application/json',\n        authorization: `Bearer ${localStorage.getItem('jwt')}`,\n      },\n      body: JSON.stringify({\n        keyword, title, text, date, source, link, image, owner,\n      }),\n    }).then(handleResponse);\n  }\n\n  deleteArticle(idCard) { // Запрос на удаление статьи\n    return fetch(`${baseUrl}/articles/${idCard}`, {\n      method: 'DELETE',\n      // mode: 'no-cors',\n      headers: {\n        'Content-Type': 'application/json',\n        authorization: `Bearer ${localStorage.getItem('jwt')}`,\n      },\n    }).then(handleResponse);\n  }\n\n  getInitialArticles() { // Запрос на получение сохраненных статей пользователя\n    return fetch(`${baseUrl}/articles`, {\n      method: 'GET',\n      // mode: 'no-cors',\n      headers: {\n        'Content-Type': 'application/json',\n        authorization: `Bearer ${localStorage.getItem('jwt')}`,\n      },\n    }).then(handleResponse);\n  }\n}\n\nconst mainApi = new MainApi();\n\nexport { mainApi };\n","import './NewsCard.css';\n\nimport React, { useState, useEffect } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { mainApi } from '../../utils/MainApi';\nimport 'moment/locale/ru';\n\nconst moment = require('moment');\nconst validator = require('validator');\n\nfunction NewsCard({\n  article,\n  myArticle,\n  cardImage,\n  cardDate,\n  cardTitle,\n  cardDescription,\n  cardTag,\n  onClickArticle,\n  loggedIn,\n  keyWord,\n  savedArticles,\n  setSavedArticles,\n}) {\n  const [activeFlag, setActiveFlag] = useState(false);\n  // Стейт содержит информацию о том, сохранена ли статья пользователем\n\n  useEffect(() => {\n  // Проверка, если статья найдена в массиве сохраненных статей пользователя,\n  // то перекрашиваем цвет флага в синий\n    if (loggedIn) {\n      if (savedArticles.length > 0) {\n        setActiveFlag(\n          savedArticles.find((i) => i.title === cardTitle) !== undefined,\n        );\n      } else {\n        setActiveFlag(false);\n      }\n    } else {\n      setActiveFlag(false);\n    }\n  }, [savedArticles, cardTitle, activeFlag, loggedIn]);\n\n  const keyWordForSave = localStorage.getItem('keyWordForSave') || 'Без ключевого слова';\n  function saveArticle() { // Запрос на сохранение статьи\n    mainApi\n      .saveArticle(\n        keyWordForSave,\n        cardTitle,\n        cardDescription,\n        cardDate,\n        cardTag === undefined ? 'Без ключевого слова' : cardTag,\n        validator.isURL(onClickArticle) ? onClickArticle : 'https://www.bbc.com/russian',\n        validator.isURL(cardImage)\n          ? cardImage\n          : 'https://get.pxhere.com/photo/nature-branch-plant-leaf-flower-frost-foliage-green-herb-botany-garden-flora-gardening-shrub-jasmine-flowering-plant-common-sage-land-plant-20931.jpg',\n      )\n      .then(() => {\n        mainApi\n          .getInitialArticles()\n          .then((res) => {\n            setSavedArticles(res);\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function deleteArticle(id) { // Запрос на удаление статьи\n    mainApi\n      .deleteArticle(id)\n      .then(() => {\n        mainApi\n          .getInitialArticles()\n          .then((res) => {\n            setSavedArticles(res);\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function modifyArticle() {\n  // Проверка, если статья сохранена, то удаляем. Если не сохранена, то сохраняем\n    const savedArticle = savedArticles.find((i) => {\n      if (myArticle) {\n        return i.title === myArticle.title && i.text === myArticle.text;\n      }\n      if (article) {\n        return i.title === article.title && i.text === article.description;\n      }\n      return undefined;\n    });\n    if (savedArticle) {\n      deleteArticle(savedArticle._id);\n    } else {\n      saveArticle();\n    }\n  }\n\n  return (\n    <div className=\"search-results__card\">\n      <Switch>\n        <Route path=\"/main\">\n          <div className=\"search-results__save-button-wrapper\">\n            <button\n              type=\"button\"\n              className={activeFlag ? 'search-results__save-button-active' : 'search-results__save-button'}\n              aria-label=\"Сохранить\"\n              disabled={!loggedIn}\n              onClick={modifyArticle}\n            />\n            <div className=\"search-results__save-button-description\">\n              <p className=\"search-results__save-button-description-text\">Войдите, чтобы сохранять статьи</p>\n            </div>\n          </div>\n        </Route>\n        <Route path=\"/saved-news\">\n          <div className=\"search-results__card-tag\">\n            <p className=\"search-results__card-text\">{keyWord}</p>\n          </div>\n          <div className=\"search-results__save-button-wrapper\">\n            <button\n              type=\"button\"\n              className=\"search-results__save-button search-results__delete\"\n              aria-label=\"Удалить\"\n              onClick={modifyArticle}\n            />\n            <div className=\"search-results__save-button-description\">\n              <p className=\"search-results__save-button-description-text\">Убрать из сохранённых</p>\n            </div>\n          </div>\n        </Route>\n      </Switch>\n\n      <img\n        className=\"search-results__image\"\n        src={cardImage}\n        alt=\"здесь должна быть картинка для новости :)\"\n        onError={(e) => { e.target.src = 'https://avatars.mds.yandex.net/get-zen_doc/1132604/pub_5fbf9b271080732360f5473b_5fbf9bc9b1f92632ba86f7bb/scale_2400'; }}\n      />\n      <div className=\"search-results__card-wrapper\">\n        <a className=\"search-results__card-link\" href={onClickArticle} target=\"_blank\" rel=\"noreferrer\">\n          <p className=\"search-results__date\">{moment(cardDate).format('LL').slice(0, -3)}</p>\n          <h3 className=\"search-results__card-title\">{cardTitle}</h3>\n          <p className=\"search-results__card-description\">{cardDescription ? cardDescription.replace(/[<>olli/]/g, '') : ''}</p>\n          <p className=\"search-results__card-source\">{cardTag}</p>\n        </a>\n      </div>\n    </div>\n  );\n}\n\nexport default NewsCard;\n","import './SearchResult.css';\nimport React, { useState, useEffect } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport placeholderImage from '../../images/news_1.png';\n\nimport NewsCard from '../NewsCard/NewsCard';\n\nfunction SearchResult({\n  articles, setArticles, loggedIn, savedArticles, setSavedArticles,\n}) {\n  const [esleButtonShow, setEsleButtonShow] = useState(true);\n  // Стейт показывающий или скрывающий кнопку \"Показать еще\"\n\n  function checkArrayLength() {\n    // Проверка массива статей, если отрисованы все, убираем кнопку \"Показать еще\"\n    if (articles.itemToShow >= articles.articlesArr.length) {\n      setEsleButtonShow(false);\n    }\n  }\n\n  const getScrollOffsets = function () {\n    // Функция определяет текущее положение полосы прокрутки страницы\n    const w = window;\n    if (w.pageXOffset != null) return { x: w.pageXOffset, y: w.pageYOffset };\n    const d = w.document;\n    if (document.compatMode == 'CSS1Compat') {\n      return {\n        x: d.documentElement.scrollLeft,\n        y: d.documentElement.scrollTop,\n      };\n    }\n    return { x: d.body.scrollLeft, y: d.body.scrollTop };\n  };\n\n  function showMore() { // Функция отрисовки трех дополнительных карточек\n    checkArrayLength();\n    setArticles({\n      articlesArr: articles.articlesArr, itemToShow: articles.itemToShow + 3, showSection: true,\n    });\n    checkArrayLength(); // Пролистать страницу наверх\n    window.scrollTo({\n      top: getScrollOffsets().y - 300, // текущее положение страницы прокрутки минус 300 пикселей\n      behavior: 'smooth',\n    });\n  }\n\n  useEffect(() => { // Обновляет запись статей в локальном хранилище\n    checkArrayLength();\n    if (articles.articlesArr.length > 0) {\n      localStorage.setItem('articles', JSON.stringify({ articlesArr: articles.articlesArr, itemToShow: articles.itemToShow, showSection: articles.showSection }));\n    }\n  }, [articles]);\n\n  return (\n    <Switch>\n      <Route path=\"/main\">\n        {articles.showSection\n          ? (\n            <section className=\"search-results\">\n              <h2 className=\"search-results__header\">Результаты поиска</h2>\n              <div className=\"search-results__cards\">\n                {\n                  articles.articlesArr\n                    .slice(0, articles.itemToShow)\n                    .map((article) => (\n                      <NewsCard\n                        article={article}\n                        key={article.url}\n                        cardImage={article.urlToImage ? article.urlToImage : placeholderImage}\n                        cardDate={article.publishedAt}\n                        cardTitle={article.title}\n                        cardDescription={article.description}\n                        cardTag={article.author || 'Без указания источника'}\n                        onClickArticle={article.url}\n                        loggedIn={loggedIn}\n                        articles={articles}\n                        savedArticles={savedArticles}\n                        setArticles={setArticles}\n                        setSavedArticles={setSavedArticles}\n                      />\n                    ))\n                }\n              </div>\n              {\n                esleButtonShow ? <button type=\"button\" className=\"search-results__else-news-button\" onClick={showMore}>Показать еще</button> : ''\n              }\n            </section>\n          )\n          : ''}\n      </Route>\n      <Route path=\"/saved-news\">\n        {\n          savedArticles.length > 0\n            ? (\n              <section className=\"search-results\">\n                <div className=\"search-results__cards\">\n                  {\n                    savedArticles.length > 0\n                      ? (savedArticles.map((article) => (\n                        <NewsCard\n                          myArticle={article}\n                          key={article._id}\n                          cardImage={article.image}\n                          cardDate={article.date}\n                          cardTitle={article.title}\n                          cardDescription={article.text}\n                          cardTag={article.source || 'Без указания источника'}\n                          onClickArticle={article.link}\n                          keyWord={article.keyword}\n                          _id={article._id}\n                          articles={articles}\n                          savedArticles={savedArticles}\n                          setArticles={setArticles}\n                          setSavedArticles={setSavedArticles}\n                        />\n                      ))) : ''\n                  }\n                </div>\n              </section>\n            )\n            : ''\n        }\n      </Route>\n    </Switch>\n  );\n}\n\nexport default SearchResult;\n","import './Main.css';\n\nimport React from 'react';\nimport About from '../About/About';\nimport Preloader from '../Preloader/Preloader';\nimport NoResults from '../NoResults/NoResults';\nimport Search from '../Search/Search';\nimport SearchResult from '../SearchResult/SearchResult';\n\nfunction Main({\n  setKeyWord,\n  keyWord,\n  onSubmitSearchForm,\n  isLoading,\n  articles,\n  setArticles,\n  loggedIn,\n  savedArticles,\n  setSavedArticles,\n  showNoResults,\n}) {\n  return (\n    <main className=\"content\">\n      <Search setKeyWord={setKeyWord} onSubmitSearchForm={onSubmitSearchForm} />\n      {isLoading ? <Preloader /> : ''}\n      {articles.articlesArr.length > 0 && !isLoading\n        ? (\n          <SearchResult\n            articles={articles}\n            setArticles={setArticles}\n            loggedIn={loggedIn}\n            keyWord={keyWord}\n            savedArticles={savedArticles}\n            setSavedArticles={setSavedArticles}\n          />\n        )\n        : ''}\n      {showNoResults ? <NoResults /> : ''}\n      <About />\n    </main>\n  );\n}\n\nexport default Main;\n","export default __webpack_public_path__ + \"static/media/git.618ae51c.svg\";","export default __webpack_public_path__ + \"static/media/vk-icon.b65afadd.svg\";","import './Footer.css';\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport git from '../../images/git.svg';\nimport vk from '../../images/vk-icon.svg';\n\nfunction Footer() {\n  function scrollUp() { // Скролл в начало страницы\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  }\n\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__description\">&copy; 2020 Supersite, Powered by News API</p>\n      <div className=\"footer__container\">\n        <Link className=\"footer__link footer__link_text\" to=\"/main\" onClick={scrollUp}>Главная</Link>\n        <a className=\"footer__link footer__link_text\" href=\"https://praktikum.yandex.ru\" target=\"_blank\" rel=\"noreferrer\">Яндекс.Практикум</a>\n        <a className=\"footer__link\" href=\"https://github.com/joker-host\" target=\"_blank\" rel=\"noreferrer\">\n          <img className=\"footer__link-image\" src={git} alt=\"здесь должна быть кнопка гита :)\" />\n        </a>\n        <a className=\"footer__link footer__link_indent\" href=\"https://vk.com/andrey137900\" target=\"_blank\" rel=\"noreferrer\">\n          <img className=\"footer__link-image\" src={vk} alt=\"здесь должна быть кнопка фейсбука :)\" />\n        </a>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import './SavedNewsHeader.css';\n\nimport React, { useState, useEffect } from 'react';\nimport { UserContext } from '../../contexts/CurrentUserContext';\n\nfunction SavedNewsHeader(savedArticles) {\n  const currentUser = React.useContext(UserContext);\n  const currentUserName = currentUser.name || 'Вы вышли';\n\n  function declOfNum(n, titles) {\n    // Функция определения окончаний в словах в зависимости от числительного\n    return titles[\n      n % 10 == 1\n      && n % 100 != 11 ? 0 : n % 10 >= 2\n      && n % 10 <= 4\n      && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2\n    ];\n  }\n\n  const [keywords, setKeyWords] = useState(''); // Стейт содержит ключевые слова для статей\n\n  function deleteElemsWith(arr, str) { // удаляем из массива определенную строку\n    for (let i = arr.length - 1; i >= 0; i--) {\n      if (arr[i].includes(str)) {\n        arr.splice(i, 1);\n      }\n    }\n    return arr;\n  }\n\n  useEffect(() => {\n    if (savedArticles.savedArticles.length > 0) {\n      const words = savedArticles.savedArticles.map((article) => (article.keyword));\n      // Забираем в массив все ключевые слова из статей\n      const uniqueWordsReplace = words.filter((item, pos) => words.indexOf(item) == pos);\n      // Удаляем повторяющиеся ключевые слова в массиве\n      const uniqueWords = deleteElemsWith(uniqueWordsReplace, 'Без ключевого слова');\n      setKeyWords(uniqueWords);\n    }\n  }, [savedArticles]);\n\n  return (\n    <section className=\"saved-news-info\">\n      <h2 className=\"saved-news-info__title\">Сохранённые статьи</h2>\n      <h3 className=\"saved-news-info__quantity\">\n        {\n          `${currentUserName.charAt(0).toUpperCase() + currentUserName.slice(1)}, у Вас ${savedArticles.savedArticles.length > 0 ? savedArticles.savedArticles.length : 'пока еще нет '} ${declOfNum(savedArticles.savedArticles.length, ['сохраненная', 'сохраненные', 'сохраненных'])} ${declOfNum(savedArticles.savedArticles.length, ['статья', 'статьи', 'статей'])}`\n        }\n      </h3>\n      {\n        savedArticles.savedArticles.length > 0 && keywords.length > 0\n          ? (\n            <p className=\"saved-news-info__description\">\n              По ключевым словам:&ensp;\n              <span className=\"saved-news-info__bold\">{keywords.length < 4 ? keywords[0] + (keywords[1] ? `, ${keywords[1]}` : '') + (keywords[2] ? `, ${keywords[2]}` : '') : `${keywords[0]}, ${keywords[1]}`}</span>\n              {keywords.length > 3 ? ' и ' : ''}\n              {keywords.length > 3 ? <span className=\"saved-news-info__bold\">{`${keywords.length - 2}-м `}</span> : ''}\n              {keywords.length > 3 ? 'другим' : ''}\n            </p>\n          )\n          : ''\n      }\n    </section>\n  );\n}\n\nexport default SavedNewsHeader;\n","import './SavedNews.css';\n\nimport React from 'react';\nimport SavedNewsHeader from '../SavedNewsHeader/SavedNewsHeader';\nimport SearchResult from '../SearchResult/SearchResult';\n\nfunction SavedNews({\n  articles, setArticles, savedArticles, setSavedArticles,\n}) {\n  return (\n    <main className=\"content\">\n      <SavedNewsHeader savedArticles={savedArticles} />\n      <SearchResult\n        articles={articles}\n        setArticles={setArticles}\n        savedArticles={savedArticles}\n        setSavedArticles={setSavedArticles}\n      />\n    </main>\n  );\n}\n\nexport default SavedNews;\n","import './PopupWithForm.css';\n\nimport React from 'react';\n\nfunction PopupWithForm({\n  name, title, isOpen, onClose, children, loginOrRegister,\n}) {\n  return (\n    <div className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container\">\n        <h2 className=\"popup__title\">{title}</h2>\n        {children}\n        <button type=\"button\" className={`popup__close-icon popup__close-icon_${name}`} aria-label=\"Закрыть\" onClick={onClose} />\n        {loginOrRegister}\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import './RegisterPopup.css';\n\nimport React from 'react';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\nimport { mainApi } from '../../utils/MainApi';\n\nfunction RegisterPopup({\n  isOpen,\n  onClose,\n  onToggle,\n  setIsToolipPopupOpen,\n  setRegisterMessage,\n  emailDirty,\n  emailError,\n  passwordDirty,\n  passwordError,\n  nameDirty,\n  nameError,\n  emailHandler,\n  passwordHandler,\n  nameHandler,\n  blurHandler,\n  name,\n  email,\n  password,\n  registerFormValid,\n}) {\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    mainApi\n      .register(email, password, name)\n      .then((res) => {\n        if (res.success) {\n          onClose();\n        }\n        setRegisterMessage(res);\n        setIsToolipPopupOpen(true);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  return (\n    <PopupWithForm\n      name=\"register\"\n      title=\"Регистрация\"\n      isOpen={isOpen}\n      onClose={onClose}\n      loginOrRegister={(\n        <button type=\"button\" className=\"popup__link\" onClick={onToggle}>\n          или&nbsp;\n          <span className=\"popup__another-popup\">\n            Войти\n          </span>\n        </button>\n      )}\n    >\n      <form action=\"#\" method=\"POST\" name=\"form\" className={`popup__form popup__form_${name}`} onSubmit={handleSubmit} noValidate>\n        <div className=\"popup__input-container\">\n          <label className=\"popup__input-label\" htmlFor=\"input__email\">\n            <p className=\"popup__label-text\">Email</p>\n            <input\n              id=\"input__email\"\n              type=\"text\"\n              name=\"email\"\n              className=\"popup__form-input\"\n              required\n              autoComplete=\"off\"\n              placeholder=\"Введите почту\"\n              value={email}\n              onChange={(e) => emailHandler(e)}\n              onBlur={(e) => blurHandler(e)}\n            />\n            {(emailError && emailDirty) && <span id=\"email-input-error\" className=\"popup__input-error\">{emailError}</span>}\n          </label>\n\n          <label className=\"popup__input-label\" htmlFor=\"input__password\">\n            <p className=\"popup__label-text\">Пароль</p>\n            <input\n              id=\"input__password\"\n              type=\"password\"\n              name=\"password\"\n              className=\"popup__form-input\"\n              required\n              autoComplete=\"off\"\n              placeholder=\"Введите пароль\"\n              minLength={5}\n              maxLength={50}\n              value={password}\n              onChange={(e) => passwordHandler(e)}\n              onBlur={(e) => blurHandler(e)}\n            />\n            {(passwordError && passwordDirty) && <span id=\"email-input-error\" className=\"popup__input-error\">{passwordError}</span>}\n          </label>\n\n          <label className=\"popup__input-label\" htmlFor=\"input__name\">\n            <p className=\"popup__label-text\">Имя</p>\n            <input\n              id=\"input__name\"\n              type=\"text\"\n              name=\"name\"\n              className=\"popup__form-input\"\n              required\n              autoComplete=\"off\"\n              placeholder=\"Введите своё имя\"\n              minLength={2}\n              maxLength={30}\n              value={name}\n              onChange={(e) => nameHandler(e)}\n              onBlur={(e) => blurHandler(e)}\n            />\n            {(nameError && nameDirty) && <span id=\"email-input-error\" className=\"popup__input-error\">{nameError}</span>}\n          </label>\n        </div>\n        <button type=\"submit\" className=\"popup__save-button popup__save-button_register\" disabled={!registerFormValid}>Зарегистрироваться</button>\n      </form>\n    </PopupWithForm>\n  );\n}\n\nexport default RegisterPopup;\n","import './LoginPopup.css';\n\nimport React from 'react';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\nimport { mainApi } from '../../utils/MainApi';\n\nfunction LoginPopup({\n  isOpen,\n  onClose,\n  onToggle,\n  handleLogin,\n  emailDirty,\n  emailError,\n  passwordDirty,\n  passwordError,\n  emailHandler,\n  passwordHandler,\n  blurHandler,\n  email,\n  password,\n  loginFormValid,\n  wrongPassword,\n  setWrongPassword,\n}) {\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    mainApi\n      .authorize(email, password)\n      .then((data) => {\n        if (data.token) {\n          handleLogin();\n          onClose();\n        } else if (data.message) {\n          setWrongPassword(data.message);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  return (\n    <PopupWithForm\n      name=\"login\"\n      title=\"Вход\"\n      isOpen={isOpen}\n      onClose={onClose}\n      loginOrRegister={(\n        <button type=\"button\" className=\"popup__link\" onClick={onToggle}>\n          или&nbsp;\n          <span className=\"popup__another-popup\">\n            Зарегистрироваться\n          </span>\n        </button>\n      )}\n    >\n      <form action=\"#\" method=\"POST\" name=\"form\" className=\"popup__form\" onSubmit={handleSubmit} noValidate>\n        <div className=\"popup__input-container\">\n          <label className=\"popup__input-label\" htmlFor=\"input__email\">\n            <p className=\"popup__label-text\">Email</p>\n            <input\n              id=\"input__email\"\n              type=\"text\"\n              name=\"email\"\n              className=\"popup__form-input\"\n              required\n              autoComplete=\"off\"\n              placeholder=\"Введите почту\"\n              value={email}\n              onChange={(e) => emailHandler(e)}\n              onBlur={(e) => blurHandler(e)}\n            />\n            {(emailError && emailDirty) && <span id=\"email-input-error\" className=\"popup__input-error\">{emailError}</span>}\n          </label>\n\n          <label className=\"popup__input-label\" htmlFor=\"input__password\">\n            <p className=\"popup__label-text\">Пароль</p>\n            <input\n              id=\"input__password\"\n              type=\"password\"\n              name=\"password\"\n              className=\"popup__form-input\"\n              autoComplete=\"off\"\n              placeholder=\"Введите пароль\"\n              value={password}\n              onChange={(e) => passwordHandler(e)}\n              onBlur={(e) => blurHandler(e)}\n            />\n            {(passwordError && passwordDirty) && <span id=\"email-input-error\" className=\"popup__input-error\">{passwordError}</span>}\n            {wrongPassword ? <span id=\"email-input-error\" className=\"popup__input-password-error\">{wrongPassword}</span> : ''}\n          </label>\n        </div>\n        <button type=\"submit\" className=\"popup__save-button popup__save-button_login\" disabled={!loginFormValid}>Войти</button>\n      </form>\n\n    </PopupWithForm>\n  );\n}\n\nexport default LoginPopup;\n","import './BurgerPopup.css';\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n// import close from '../../images/close.svg';\n\nfunction BurgerPopup({\n  isOpen, onRegister, onCloseBurger, loggedIn, logOut,\n}) {\n  function handleClickLoggedButton() {\n    onCloseBurger();\n    onRegister();\n  }\n\n  function logOutBurger() {\n    onCloseBurger();\n    logOut();\n  }\n\n  return (\n    <div className={`burger-popup ${isOpen ? 'burger-popup_opened' : ''}`}>\n      <div className={`burger-popup__container ${isOpen ? 'burger-popup__container_opened' : ''}`}>\n        <header className=\"burger-popup__header\">\n          <h2 className=\"burger-popup__logo\">NewsExplorer</h2>\n          <button type=\"button\" className=\"burger-popup__close-button\" aria-label=\"Закрыть\" onClick={onCloseBurger} />\n        </header>\n        <div className=\"burger-popup__navbar\">\n          <Link className=\"burger-popup__link\" to=\"/main\" onClick={onCloseBurger}>Главная</Link>\n          {\n            loggedIn ? <Link className=\"burger-popup__link\" to=\"/saved-news\" onClick={onCloseBurger}>Сохраненные статьи</Link>\n              : ''\n          }\n          {\n            loggedIn ? <button type=\"button\" className=\"burger-popup__link__logged-in-button\" onClick={logOutBurger}>Выйти</button>\n              : <button type=\"button\" className=\"burger-popup__link__logged-in-button\" onClick={handleClickLoggedButton}>Авторизоваться</button>\n          }\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default BurgerPopup;\n","import './InfoTooltip.css';\n\nimport React from 'react';\n\nconst InfoTooltip = ({\n  isOpen, onClose, onToggle, resultMessage,\n}) => (\n  <div className={`popup popup_type_tooltip ${isOpen ? 'popup_opened' : ''}`}>\n    <div className=\"popup__container\">\n      <h2 className=\"popup__title\">{resultMessage.message === 'celebrate request validation failed' ? resultMessage.validation.body.message : resultMessage.message}</h2>\n      <button type=\"button\" className=\"popup__tooltip-button\" onClick={onToggle}>Войти</button>\n      <button\n        type=\"button\"\n        className=\"popup__close-icon\"\n        aria-label=\"Закыть\"\n        onClick={onClose}\n      />\n    </div>\n  </div>\n);\n\nexport default InfoTooltip;\n","import React, { useEffect } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, handleLoginPopup, ...props }) => {\n  useEffect(() => {\n    if (localStorage.isLoggedIn === 'false') {\n      // Если пользователь не авторизован и хочет перейти на защищенный адрес,\n      // то открываем попап с логином\n      handleLoginPopup();\n    }\n  }, []);\n\n  return (\n    <Route>\n      {() => (localStorage.isLoggedIn ? <Component {...props} /> : <Redirect to=\"/main\" />)}\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import { handleResponse } from './constants';\n\nconst moment = require('moment');\n\nconst dateNow = Date.now(); // Текущая дата\nconst dateFrom = moment(dateNow - 7 * 24 * 3600 * 1000).format('YYYY-MM-DD'); // 7 дней назад с текущей даты\n\nclass NewsApi {\n  getArticles(keyWord) { // Поиск по ключевым словам\n    return fetch(`https://newsapi.org/v2/everything?q=${keyWord || localStorage.getItem('Key word')}&from=${dateFrom}&to=${dateNow}&pageSize=100&language=ru&apiKey=a349bbe623754e8cafb460c57b8ce4f1`,\n      {\n        method: 'GET',\n        headers: {\n          Accept: 'application/json',\n        },\n      })\n      .then(handleResponse);\n  }\n\n  getTopArticles() { // Актуальные новости при загрузке страницы\n    return fetch('https://newsapi.org/v2/top-headlines?country=ru&language=ru&apiKey=a349bbe623754e8cafb460c57b8ce4f1',\n      {\n        method: 'GET',\n        headers: {\n          Accept: 'application/json',\n        },\n      })\n      .then(handleResponse);\n  }\n}\n\nconst newsApi = new NewsApi();\n\nexport { newsApi };\n","import './App.css';\n\nimport React, { useState, useEffect } from 'react';\nimport {\n  Route, Switch, Redirect, useHistory,\n} from 'react-router-dom';\nimport validator from 'validator';\nimport Header from '../Header/Header';\nimport Main from '../Main/Main';\nimport Footer from '../Footer/Footer';\nimport SavedNews from '../SavedNews/SavedNews';\nimport RegisterPopup from '../RegisterPopup/RegisterPopup';\nimport LoginPopup from '../LoginPopup/LoginPopup';\nimport BurgerPopup from '../BurgerPopup/BurgerPopup';\nimport InfoTooltip from '../InfoTooltip/InfoTooltip';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport { newsApi } from '../../utils/NewsApi';\nimport { mainApi } from '../../utils/MainApi';\nimport { UserContext } from '../../contexts/CurrentUserContext';\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(localStorage.isLoggedIn);\n  // Стейт, содержащий статус пользователя (зашел в аккаунт или вышел)\n\n  const [isLoading, setIsLoading] = useState(false);\n  // отобразить/убрать загрузку\n\n  const handleLogin = () => {\n    // Устанавливает статус пользователя \"зашел в аккаунт\"\n    setLoggedIn(localStorage.isLoggedIn = true);\n  };\n\n  const history = useHistory();\n  const [currentUser, setCurrentUser] = useState({\n    // Хук, содержащий информцию о пользователе\n    name: '',\n    _id: '',\n  });\n  function tokenCheck() {\n    // Проверяет валидность токена\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      mainApi\n        .getContent(jwt)\n        .then((res) => {\n          if (res._id && res.email && res.name) {\n            setCurrentUser({ name: res.name, _id: res._id });\n            setLoggedIn(localStorage.isLoggedIn = true);\n          } else {\n            localStorage.removeItem('jwt');\n            setLoggedIn(localStorage.isLoggedIn = false);\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    } else {\n      setLoggedIn(localStorage.isLoggedIn = false);\n    }\n  }\n\n  const [savedArticles, setSavedArticles] = useState([]);\n  // Стейт с сохраненными статьями\n\n  function logOut() {\n    // Функция выхода из аккаунта\n    localStorage.removeItem('jwt');\n    localStorage.removeItem('articles');\n    setLoggedIn(localStorage.isLoggedIn = false);\n    setSavedArticles([]);\n  }\n\n  function loadSavedArticles() {\n    // Запрос на получение сохраненных статей\n    mainApi\n      .getInitialArticles()\n      .then((res) => {\n        setSavedArticles(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  useEffect(() => {\n    // Запрос на получение сохраненных статей срабатывает при изменении статуса LogIn/LogOff\n    loadSavedArticles();\n  }, [loggedIn, history]);\n\n  const [keyWord, setKeyWord] = useState('');\n  // Стейт с ключевыми словами для статей\n\n  const [articles, setArticles] = useState({ articlesArr: [], showSection: false });\n  // Статьи, полученные при запросе от NewsApi\n\n  useEffect(() => {\n    // проверяю есть ли в локальном хранилище ключ articles,\n    // если есть, то забираю его в стейт articles\n    if (localStorage.getItem('articles')) {\n      setArticles(JSON.parse(localStorage.getItem('articles')));\n    }\n  }, []);\n\n  const [showNoResults, setShowNoResults] = useState(false);\n\n  function getStartArticles() {\n    setIsLoading(true);\n    newsApi\n      .getTopArticles()\n      .then((res) => {\n        if (res.totalResults === 0) {\n          setShowNoResults(true);\n        } else {\n          setShowNoResults(false);\n        }\n        setArticles({ articlesArr: [], showSection: false });\n        localStorage.removeItem('articles');\n        setIsLoading(false);\n        setArticles({ articlesArr: res.articles, itemToShow: 3, showSection: true });\n        localStorage.setItem('articles', JSON.stringify({ articlesArr: res.articles, itemToShow: articles.itemToShow, showSection: articles.showSection }));\n      });\n  }\n\n  useEffect(() => {\n    if (!(localStorage.getItem('articles'))) {\n      getStartArticles();\n    }\n  }, []);\n\n  function onSubmitSearchForm(e) {\n    setIsLoading(true);\n    e.preventDefault();\n    newsApi\n      .getArticles(keyWord)\n      .then((res) => {\n        if (res.totalResults === 0) {\n          setShowNoResults(true);\n        } else {\n          setShowNoResults(false);\n        }\n        setArticles({ articlesArr: [], showSection: false });\n        localStorage.removeItem('articles');\n        localStorage.setItem('keyWordForSave', keyWord.charAt(0).toUpperCase() + keyWord.slice(1));\n        setIsLoading(false);\n        setArticles({ articlesArr: res.articles, itemToShow: 3, showSection: true });\n        localStorage.setItem('articles', JSON.stringify({ articlesArr: res.articles, itemToShow: articles.itemToShow, showSection: articles.showSection }));\n      });\n  }\n\n  useEffect(() => {\n    // Функция проверки токена срабатывает изменении статуса LogIn/LogOff\n    tokenCheck();\n  }, [loggedIn, history]);\n\n  /// //////////////////////////////////////Валидация\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [name, setName] = useState('');\n\n  const [emailDirty, setEmailDirty] = useState(false);\n  const [emailError, setEmailError] = useState('Поле Email не может быть пустым');\n  const [passwordDirty, setPasswordDirty] = useState(false);\n  const [passwordError, setPasswordError] = useState('Поле Пароль не может быть пустым');\n  const [nameDirty, setNameDirty] = useState(false);\n  const [nameError, setNameError] = useState('Поле Имя не может быть пустым');\n\n  const [registerFormValid, SetRegisterFormValid] = useState(false);\n  const [loginFormValid, SetLoginFormValid] = useState(false);\n\n  const [wrongPassword, setWrongPassword] = useState('');\n\n  function resetError() {\n    setEmailDirty(false);\n    setPasswordDirty(false);\n    setNameDirty(false);\n    SetRegisterFormValid(false);\n    SetLoginFormValid(false);\n    setEmail('');\n    setPassword('');\n    setName('');\n    setWrongPassword('');\n  }\n\n  useEffect(() => {\n    if (emailError || passwordError) {\n      SetLoginFormValid(false);\n    } else {\n      SetLoginFormValid(true);\n    }\n  }, [emailError, passwordError]);\n\n  useEffect(() => {\n    if (emailError || passwordError || nameError) {\n      SetRegisterFormValid(false);\n    } else {\n      SetRegisterFormValid(true);\n    }\n  }, [emailError, passwordError, nameError]);\n\n  const emailHandler = (e) => {\n    setEmail(e.target.value);\n    if (!validator.isEmail(e.target.value)) {\n      setEmailError('Email должен быть корректным');\n      if (!e.target.value) {\n        setEmailError('Поле \"Email\" не может быть пустым');\n      }\n    } else {\n      setEmailError('');\n    }\n  };\n\n  const passwordHandler = (e) => {\n    setPassword(e.target.value);\n    if (e.target.value.length < 5) {\n      setPasswordError('Пароль не может быть кароче 5-ти символов');\n      if (!e.target.value) {\n        setPasswordError('Поле \"Пароль\" не может быть пустым');\n      }\n    } else {\n      setPasswordError('');\n    }\n  };\n\n  const nameHandler = (e) => {\n    setName(e.target.value);\n    if (!validator.isAlpha(e.target.value, 'ru-RU')) {\n      setNameError('Имя должно содержать только буквы русского алфавита');\n      if (!e.target.value) {\n        setNameError('Поле \"Имя\" не может быть пустым');\n      }\n    } else {\n      setNameError('');\n    }\n  };\n\n  const blurHandler = (e) => {\n    switch (e.target.name) {\n    case 'email': setEmailDirty(true);\n      break;\n    case 'password': setPasswordDirty(true);\n      break;\n    case 'name': setNameDirty(true);\n      break;\n    }\n  };\n\n  /// //////////////////////////////////////Валидация\n\n  // function closeOverlay(evt) {\n  // Закрытие попапов при нажатии на область вокруг попапа\n  //   if (evt.target.classList.contains('popup_opened')) {\n  //     closeAllPopups();\n  //   }\n  // }\n  // document.addEventListener('click', closeOverlay);\n\n  const [isRegisterPopupOpen, setIsRegisterPopupOpen] = useState(false);\n  const [isLoginPopupOpen, setIsLoginPopupOpen] = useState(false);\n  const [isBurgerPopupOpen, setIsBurgerPopupOpen] = useState(false);\n\n  function closeAllPopups() {\n    // Закрывает все попапы\n    resetError();\n    setIsRegisterPopupOpen(false);\n    setIsLoginPopupOpen(false);\n    setIsBurgerPopupOpen(false);\n    // document.removeEventListener('keydown', closeOnEscape);\n    // document.removeEventListener('click', closeOverlay);\n  }\n\n  function closeOnEscape(evt) {\n    // Закрытие попапов при нажатии Escape\n    if (evt.key === 'Escape') {\n      closeAllPopups();\n    }\n  }\n\n  document.addEventListener('keydown', closeOnEscape);\n\n  function handleRegisterPopup() {\n    // Открывает попап регистрации\n    resetError();\n    setIsRegisterPopupOpen(true);\n  }\n\n  function handleLoginPopup() {\n    // Открывает попап логина\n    resetError();\n    setIsLoginPopupOpen(true);\n  }\n\n  function toggleLoginPopup() {\n    // Закрывает попап логина и открывает попап регистрации\n    resetError();\n    closeAllPopups();\n    handleRegisterPopup();\n  }\n\n  function toggleRegisterPopup() {\n    // Закрывает попап регистрации и открывает попап логина\n    resetError();\n    closeAllPopups();\n    handleLoginPopup();\n  }\n\n  function handleBurgerPopup() {\n    // Открывает меню на мобильных устройствах\n    setIsBurgerPopupOpen(true);\n  }\n\n  const [registerMessage, setRegisterMessage] = useState({\n    // Стейт содержит сообщение от Api при регистрации\n    message: '',\n    validation: {\n      body: {\n        message: '',\n      },\n    },\n  });\n\n  const [isToolipPopupOpen, setIsToolipPopupOpen] = useState(false);\n  function handleToolipPopup() {\n    // Закрывает информационное окно\n    setIsToolipPopupOpen(false);\n  }\n\n  function toggleToolipPopup() {\n    // Закрывает попап регистрации и открывает попап логина\n    resetError();\n    handleToolipPopup();\n    setIsLoginPopupOpen(true);\n    setIsRegisterPopupOpen(false);\n  }\n\n  return (\n    <UserContext.Provider value={currentUser}>\n      <div className=\"body\">\n        <Switch>\n          <Route path=\"/main\">\n            <Header\n              onRegister={handleLoginPopup}\n              onBurgerMenu={handleBurgerPopup}\n              loggedIn={loggedIn}\n              logOut={logOut}\n            />\n            <Main\n              setKeyWord={setKeyWord}\n              keyWord={keyWord}\n              onSubmitSearchForm={onSubmitSearchForm}\n              isLoading={isLoading}\n              articles={articles}\n              setArticles={setArticles}\n              loggedIn={loggedIn}\n              savedArticles={savedArticles}\n              setSavedArticles={setSavedArticles}\n              showNoResults={showNoResults}\n            />\n            <Footer />\n          </Route>\n          <Route path=\"/saved-news\">\n            <Header\n              onRegister={handleLoginPopup}\n              onBurgerMenu={handleBurgerPopup}\n              loggedIn={loggedIn}\n              logOut={logOut}\n            />\n            <ProtectedRoute\n              path=\"/saved-news\"\n              loggedIn={loggedIn}\n              component={SavedNews}\n              articles={articles}\n              setArticles={setArticles}\n              tokenCheck={tokenCheck}\n              savedArticles={savedArticles}\n              setSavedArticles={setSavedArticles}\n              handleLoginPopup={handleLoginPopup}\n            />\n            <Footer />\n            {\n              loggedIn ? '' : <Redirect from=\"/saved-news\" to=\"/main\" />\n            }\n          </Route>\n          <Redirect from=\"/\" to=\"/main\" />\n        </Switch>\n        <RegisterPopup\n          isOpen={isRegisterPopupOpen}\n          onClose={closeAllPopups}\n          onToggle={toggleRegisterPopup}\n          setIsToolipPopupOpen={setIsToolipPopupOpen}\n          setRegisterMessage={setRegisterMessage}\n          emailDirty={emailDirty}\n          emailError={emailError}\n          passwordDirty={passwordDirty}\n          passwordError={passwordError}\n          nameDirty={nameDirty}\n          nameError={nameError}\n          emailHandler={emailHandler}\n          passwordHandler={passwordHandler}\n          nameHandler={nameHandler}\n          blurHandler={blurHandler}\n          email={email}\n          password={password}\n          name={name}\n          registerFormValid={registerFormValid}\n        />\n        <LoginPopup\n          onEscape={closeAllPopups}\n          isOpen={isLoginPopupOpen}\n          onClose={closeAllPopups}\n          onToggle={toggleLoginPopup}\n          handleLogin={handleLogin}\n          emailDirty={emailDirty}\n          emailError={emailError}\n          passwordDirty={passwordDirty}\n          passwordError={passwordError}\n          emailHandler={emailHandler}\n          passwordHandler={passwordHandler}\n          blurHandler={blurHandler}\n          email={email}\n          password={password}\n          loginFormValid={loginFormValid}\n          wrongPassword={wrongPassword}\n          setWrongPassword={setWrongPassword}\n        />\n        <BurgerPopup\n          loggedIn={loggedIn}\n          isOpen={isBurgerPopupOpen}\n          onRegister={handleLoginPopup}\n          onCloseBurger={closeAllPopups}\n          logOut={logOut}\n        />\n        <InfoTooltip\n          isOpen={isToolipPopupOpen}\n          onClose={handleToolipPopup}\n          onToggle={toggleToolipPopup}\n          resultMessage={registerMessage}\n        />\n      </div>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","import './index.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}